<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>IBM SYSTEMG G RUNTIME &amp; NATIVE STORE: analytic_pagerank Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">IBM SYSTEMG G RUNTIME &amp; NATIVE STORE
   &#160;<span id="projectnumber">0.5</span>
   </div>
   <div id="projectbrief">IBM Native Graph Computing and Storage System based on IBM Parallel Programming Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classanalytic__pagerank-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">analytic_pagerank Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>compute page rank within gShell. This implementaion is adapted from the 2nd page rank algorithm on wiki pagerank, the Matlab description of which is given below. Note that in our adaption, we do not use matrices, but mapped all operations onto graph elements. This plug-in allows uer to specify a vertex subproperty (optional), where we can load/save the page ranks. This plugin is memory-demanding for large scale graphs, since it allocates variables for each vertex and each edge. This plug-in only works for directed graph.  
 <a href="classanalytic__pagerank.html#details">More...</a></p>

<p><code>#include &lt;plugin_pagerank.h&gt;</code></p>

<p>Inherits query_base.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a88bde6bb3b8035bf19b92fda10276ccd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88bde6bb3b8035bf19b92fda10276ccd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>REGISTER_QUERY_TYPE</b> (<a class="el" href="classanalytic__pagerank.html">analytic_pagerank</a>)</td></tr>
<tr class="separator:a88bde6bb3b8035bf19b92fda10276ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e932f97336feaea102e7a36090cbd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalytic__pagerank.html#a84e932f97336feaea102e7a36090cbd6">options</a> (command_options &amp;opt)</td></tr>
<tr class="separator:a84e932f97336feaea102e7a36090cbd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d5bc481dfc6769d0e8ccc31e2c13b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60d5bc481dfc6769d0e8ccc31e2c13b3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalytic__pagerank.html#a60d5bc481dfc6769d0e8ccc31e2c13b3">run</a> (struct query_param_type)</td></tr>
<tr class="memdesc:a60d5bc481dfc6769d0e8ccc31e2c13b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">perform pagerank <br/></td></tr>
<tr class="separator:a60d5bc481dfc6769d0e8ccc31e2c13b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141bb814f73170e3bcc7843be82462c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a141bb814f73170e3bcc7843be82462c5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalytic__pagerank.html#a141bb814f73170e3bcc7843be82462c5">rank_fast</a> (<a class="el" href="classibmppl_1_1ibm__generic__graph.html">graph_type</a> *g, double damping_factor, double v_quadratic_error, const string &amp;p, bool is_restart, size_t max_iter, bool is_display, internal_outputFormat *o)</td></tr>
<tr class="memdesc:a141bb814f73170e3bcc7843be82462c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">page rank algo implementation <br/></td></tr>
<tr class="separator:a141bb814f73170e3bcc7843be82462c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3239a38112072d3dd223d93b854faa95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3239a38112072d3dd223d93b854faa95"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>normalize</b> (<a class="el" href="classibmppl_1_1ibm__generic__graph.html">graph_type</a> *g, unordered_map&lt; size_t, double &gt; &amp;v, unordered_map&lt; size_t, double &gt; &amp;old_v)</td></tr>
<tr class="separator:a3239a38112072d3dd223d93b854faa95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a075d64b1a3405ced1af7045f00d87240"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a075d64b1a3405ced1af7045f00d87240"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>disp</b> (<a class="el" href="classibmppl_1_1ibm__generic__graph.html">graph_type</a> *g, unordered_map&lt; size_t, double &gt; &amp;v, internal_outputFormat *o)</td></tr>
<tr class="separator:a075d64b1a3405ced1af7045f00d87240"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>compute page rank within gShell. This implementaion is adapted from the 2nd page rank algorithm on wiki pagerank, the Matlab description of which is given below. Note that in our adaption, we do not use matrices, but mapped all operations onto graph elements. This plug-in allows uer to specify a vertex subproperty (optional), where we can load/save the page ranks. This plugin is memory-demanding for large scale graphs, since it allocates variables for each vertex and each edge. This plug-in only works for directed graph. </p>
<p>function [v] = rank2(M, d, v_quadratic_error) N = size(M, 2); % N is equal to half the size of M v = rand(N, 1); v = v ./ norm(v, 1); % This is now L1, not L2 last_v = ones(N, 1) * inf; M_hat = (d .* M) + (((1 - d) / N) .* ones(N, N)); while(norm(v - last_v, 2) &gt; v_quadratic_error) last_v = v; v = M_hat * v; end endfunction </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a84e932f97336feaea102e7a36090cbd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void analytic_pagerank::options </td>
          <td>(</td>
          <td class="paramtype">command_options &amp;&#160;</td>
          <td class="paramname"><em>opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&amp;ndash;damp</td><td>damping factor </td></tr>
    <tr><td class="paramname">&amp;ndash;quad</td><td>quadratic_error </td></tr>
    <tr><td class="paramname">&amp;ndash;prop</td><td>vertex subprop name to load/store page ranks (optional) </td></tr>
    <tr><td class="paramname">&amp;ndash;num</td><td>maximum number of iterations allowd (optional) </td></tr>
    <tr><td class="paramname">&amp;ndash;restart</td><td>ignore PR loaded from vertex subprop </td></tr>
    <tr><td class="paramname">&amp;ndash;display</td><td>show the results </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/yxia/Work/ibmppl.gsa/apps/gShell_v2.2/plugin_pagerank.h</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
